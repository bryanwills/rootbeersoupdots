#!/usr/bin/env bash

# ParallelCluster prompt
if [[ $(uname -r) =~ "amzn2" ]]; then
    if [[ $(hostname) =~ "ip-10-0-0" ]]; then
        PS1="[pc head] \W \[\e[1m\]$\[\e[m\] "
    else
        PS1="[pc \h] \W \[\e[1m\]$\[\e[m\] "
    fi

# Everything else
elif [[ $(id -u) -eq 0 ]]; then     # Root
    PS1="\W \[\e[31m\]$\[\e[m\] "
elif [[ -n "$SSH_CLIENT" ]]; then   # SSH session
    PS1="\W \[\e[33m\]$\[\e[m\] "
else                                # Normal
    PS1="\W \[\e[1m\]$\[\e[m\] "
fi
